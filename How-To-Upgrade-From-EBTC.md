# 如何从 EverybodyBitcoin 升级到 BalanceCoin ？

EverybodyBitcoin 正式改名为 BalanceCoin，所有的程序的文字及图标，程序相关的路径都已经做修改，请在官网上下载最新版本的钱包及挖矿工具。请访问：[balancecoin.io](https://balancecoin.io) 来获取更多的信息。

## 升级步骤

### 备份原来的钱包文件（这一步非常重要，如果没有备份好会有可能导致BLC币丢失）

* 首先找到钱包文件在你的电脑里的存储位置

  1. 打开原 EverybodyBitcoin 的钱包程序，然后在主菜单里选择 帮助 -> 调试窗口
  2. 在弹出的窗口里的第一页 Information 中找到 Datadir 项目，然后后面的路径就是钱包文件（wallet.dat）所在的位置；

* 复制钱包文件

  1. 把上一步骤中的 Datadir 的路径复制到剪切板，然后在资源管理器 (Windows) 或者访达 (macOS) 中把这个路径打开；
  2. 把 EverybodyBitcoin 的钱包程序关闭，并等待它完全退出；
  3. 找到 wallet.dat 这个文件，把它复制到安全的地方保存好；


### 安装新版本 BalanceCoin 的钱包程序

* 在官网上下载钱包程序 [balancecoin.io](https://balancecoin.io)

* 双击下载好的钱包程序并安装 (Windows) 或者打开安装包将程序拖动到 Applications 文件夹中 (macOS)；

* 点击打开 BalanceCoin 的钱包程序。因为是第一次运行 BalanceCoin 的钱包，所以程序弹出一个运行向导窗口，提示你选择存储区块链数据以及钱包的文件夹，记得之前在 Debug Windows 里的那个 Datadir 项目所表明的文件夹吗？在这里选择那个文件夹，然后继续下一步；

* 第一次启动的运行向导窗口结束后，你应该可以看到 BalanceCoin 的钱包程序成功的读取了 EverybodyBitcoin 的数据并且正确显示原 EverybodyBitcoin 的余额；

* 升级完成。

## FAQ

#### 什么是钱包文件 wallet.dat ？

这个文件包含了你所有的私钥，对应你用来收钱的所有的地址，没有这些私钥，你将无法支配保存在你的 BLC 地址的数字货币。

#### Datadir 里存储了哪些东西？

Datadir 是 BalanceCoin 的数据文件夹，里面存有几大类的数据

* 钱包文件，就是 wallet.dat 文件，该文件保存了你的所有的私钥，如果没有这些私钥，你将无法动用你的数字资产，同时，如果这个文件被别人拿走且没有设置密码的话，那么别人也可以动用你的数字资产；

* 区块链数据，同时也叫做账本数据。这些数据包含了从创始区块创建那一天到今天为止的所有的转账信息。不管你是要收款还是要挖矿，都需要把这些数据下载完成，至今为止（8/28/2018）BalanceCoin 的账本数据一共有 181GB。若你本地的数据未下载完成或者有欠缺，那么 BalanceCoin 的钱包将会自动帮你通过 P2P 网络同步这些数据。这些账本数据存储在 blocks/ 和 chainstate/ 两个文件夹下。**若你要移动或者拷贝这些数据，请务必保证使用该数据的钱包程序已经被关闭**；

* 钱包基本配置信息。这些配置信息可以通过钱包应用程序来进行更改；

* P2P 网络缓存信息。当你打开钱包后，钱包程序将会自动连接至 BalanceCoin 的 P2P 网络，当你成功连接至一个节点后，该节点的信息将会保存到缓存文件中，以供下次打开钱包的时候做快速连接使用；

* 程序日志信息。该日志文件 debug.log 里存储了所有的程序日志信息，当你的钱包程序出现异常的时候，专业人士可以通过查看该日志文件来找到问题原因。所以当你碰到问题的时候，把 debug.log 压缩发给专业的人士是有可能帮助你解决掉这些问题的；

#### 我安装好了 BalanceCoin 的钱包程序后发现余额为零了，怎么办？

若你使用 EverybodyBitcoin 的钱包的时候，余额不为零，而安装好了 BalanceCoin 后在新的版本的钱包中显示的余额为零，那么最大的可能是新版本的钱包并没有使用 EverybodyBitcoin 的钱包所使用的文件夹作为数据存储文件夹，也就是前面提到的 Datadir 文件夹可能没有被正确设置。要解决这个问题，根本上就是让新版本的 BalanceCoin 的钱包程序能够读取原 EverybodyBitcoin 钱包的数据。所以我们可以分别找到新、旧两个版本的数据文件夹，然后把旧版本的数据移动到新版本的数据文件夹中。详细的步骤请参照下面的步骤：

1. 首先打开老版本的钱包程序，找到 Datadir 所指的文件夹，然后在资源管理器或者访达程序中打开这个文件夹，我们把这个文件夹记作“文件夹A”；

2. 关闭老版本的钱包程序。关闭钱包这一步很重要，我们需要确保没有程序在使用这个文件夹，否则我们很有可能会拷贝一个写到一半的文件，然后导致数据损失；

3. 打开新版本的钱包程序，同样的找到 Datadir 所指的文件夹，然后在资源管理器或者访达中新建一个窗口，打开该文件夹，我们把这个文件夹记作“文件夹B”；

4. 退出钱包程序，将“文件夹B”中的文件移到回收站，然后把“文件夹A”中的所有的文件拷贝到“文件夹B”中；

5. 重新打开 BalanceCoin 钱包程序，当钱包程序同步完成数据后，你的余额将能够正确显示；

#### 我如何更换钱包的数据存储文件夹？

当你打开调试窗口发现你的钱包存储数据的文件夹的位置不正确或者存储在你不想要的磁盘上的时候，你就需要让钱包使用其它的文件夹来作为存储文件夹，请按以下的步骤来操作：

1. 首先打开钱包程序，然后打开 帮助 -> 调试窗口，找到数据目录那一项，按照这一项写的内容把对应的文件夹打开；

2. 关闭钱包，然后等钱包完全关闭之后，把刚才打开的文件夹中的文件移到你想移动到的位置，原来文件夹中的文件都不要保留；**注意，你可能需要在这里备份一下你的 wallet.dat**

3. 重新打开钱包，这时候钱包程序因为找不到数据文件了，于是会重新打开向导问你要数据存储的文件夹，这时候请选择新的文件夹路径就可以了；

#### 换了文件夹后挖矿程序不工作了怎么办？

1. 首先保证钱包数据同步都正常，钱包文件 wallet.dat 是正确的；

2. 若挖矿程序显示无法连接钱包的错误，那么请：

   * 首先确认钱包程序已经打开；

   * 打开挖矿程序，点击 setup 然后在弹出来的设置窗口中检查钱包的数据文件夹设置是否正确，如果不正确，那么请设置正确；

3. 若挖矿程序显示在主窗口中的文件数量及容量为0，那么请在设置窗口中检查挖矿的文件目录是否都指定正确了，若不正确请设置正确；
